<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
    <title></title>
    <script type="text/javascript" src="../lib/code-snippet/code-snippet.js"></script>
    <script type="text/javascript" src="../lib/discriminator/src/js/MoveDetector.js"></script>
    <script type="text/javascript" src="../lib/move-helper/src/js/movehelper.js"></script>
    <script type="text/javascript" src="../lib/move-helper/src/js/effect.js"></script>
    <script type="text/javascript" src="../src/js/flicking.js"></script>
    <script type="text/javascript" src="../src/js/flicking.model.js"></script>
    <style>
        .item {float:left; height:100%;}
    </style>
</head>
<body>
<div id="flick" class="flick" style="position:relative; width:100%;height:300px;background-color:#aaa;overflow:hidden">
    <div id="flick-wrap1" class="panelwrap" style="background-color:#cd0342;position: absolute;height:300px;">
    </div>
</div>
<!--<div id="flick" class="flick" style="position:relative; width:300px;height:300px;background-color:#aaa;overflow:hidden">-->
    <!--<div id="flick-wrap1" class="panelwrap" style="background-color:#cd0342;position: absolute;height:300px;">-->
    <!--</div>-->
<!--</div>-->
<div id="move"></div>
<script type="text/javascript">
    var flick = new ne.component.Flicking({
        element: document.getElementById('flick'),
    movepanel: document.getElementById('flick-wrap1'),
        flow: 'horizontal',
        useMagnetic: true,
        isCircular: true,
        hasStatic: false,
        itemClass: 'item',
        list: [
                'item1'
        ],
        select: 1
    });

    var leftcount = 0,
        rightcount = 0;

    function getData(str) {
        var count = (str === 'left') ? leftcount++ : rightcount++;
        return str + count;
    }

    flick.on('beforeMove', function() {
        var left = getData('left');
        var right = getData('right');

        flick.setPrev(left);
        flick.setNext(right);
        document.getElementById('move').innerHTML = 'beforeMove';
    });
    flick.on('afterFlick', function(data) {
        if (data.way === 'forward') {
            leftcount -= 1;
        } else if (data.way === 'back') {
            rightcount -= 1;
        }
        console.log(leftcount, rightcount)
        document.getElementById('move').innerHTML = 'after Flicking';
    })
    flick.on('returnFlick', function(data) {
        leftcount -= 1;
        rightcount -= 1;
    });
</script>
</body>
</html>